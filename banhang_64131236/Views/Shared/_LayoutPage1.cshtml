<!doctype html>
<html lang="en">
<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <script src="~/Scripts/jquery.js"></script> <!-- Include jQuery if you’re using it -->
    <script src="~/Scripts/bootstrap.bundle.min.js"></script> <!-- Bootstrap JavaScript file -->
    <link rel="stylesheet" href="~/Content/tiki.css">
    <link href="~/Content/fontawesome/css/all.min.css" rel="stylesheet" />
    <!-- Thêm vào phần head -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <style>

        .inner-item {
            display: grid;
            grid-template-columns: repeat(6,1fr);
            gap: 10px;
        }

        .pagination-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .page-link {
            display: inline-block;
            padding: 10px 15px;
            margin: 0 5px;
            border: 1px solid #007bff;
            border-radius: 5px;
            color: #007bff;
            text-decoration: none;
            background-color: #fff;
            transition: background-color 0.3s, color 0.3s;
        }

        .current-page {
            display: inline-block;
            padding: 10px 15px;
            margin: 0 5px;
            border: 1px solid #007bff;
            border-radius: 5px;
            color: #fff;
            background-color: #007bff;
        }

        .page-link:hover {
            background-color: #007bff;
            color: #fff;
        }

        .inner-card {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
        }

        .card {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            text-align: center;
            position: relative;
        }

        .inner-coche {
            position: absolute;
            bottom: 0px;
            left: 0px;
        }

            .inner-coche a {
                color: red;
            }

        .card img {
            width: 180px;
            height: auto;
            margin: 0px auto;
            margin-bottom: 10px;
        }

        .search-sort-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .search-input, .sort-dropdown, .search-btn {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .search-btn {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }

            .search-btn:hover {
                background-color: #0056b3;
            }

        header .inner-logo {
            height: 100px;
            width: auto;
        }

        .inner-item .item img {
            height: 80px;
            width: auto;
        }

        body {
            background-color: #E8E8E8;
        }

        .inner-item .item {
            text-align: center;
        }

        .inner-item a {
            color: black;
            text-decoration: none;
        }

            .inner-item a:hover {
                background-color: #FEE356;
                border-radius: 8px;
                transition: all 0.3s;
            }


        .cart-container {
            position: relative;
            display: inline-block;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 12px;
        }




    </style>


</head>




<body>
    <header class="bg-white container-fluid">
        <nav class="navbar navbar-expand-lg  align-items-center justify-content-center ">
            <div class="container-fluid ">
                <a class="navbar-brand d-flex flex-column me-3 " href="#">
                    <img class="inner-logo"
                         src="~/img/logogo.png"
                         alt="LOGO">
                    <span class="text-primary">Ngon & bổ dưỡng</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse align-items-center justify-content-between "
                     id="navbarSupportedContent">

                    <form class="w-75 border-1 align-items-center justify-content-center" role="search">
                        <div class="dropdown w-100 inner-input d-flex align-items-center justify-content-center mt-3 ">
                            <i class="fa-solid fa-magnifying-glass icone-search opacity-50 ms-3"></i>

                            <input class="border-0 dropdown-toggle ms-1 me-2" type="search"
                                   placeholder="Search" aria-label="Search">

                            <button class="btn text-primary border-start" type="submit">
                                Search
                            </button>
                        </div>
                        <ul class="d-flex listds">

                            <li><a href="/">Nước</a></li>
                            <li><a href="/">cafee</a></li>
                            <li><a href="/">Ăn vặt</a></li>
                            <li>
                                <a href="/">
                                    Trà sữa
                                </a>
                            </li>
                            <li><a href="/">Topping</a></li>
                            <li><a href="/">Giải khát</a></li>

                        </ul>
                    </form>
                    <div class="d-flex flex-column">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
                            <li class="nav-item ">
                                <a class="nav-link active text-primary" aria-current="page" href="#">
                                    <i class="fa-solid fa-house" style="color: #068df4;"></i>Trang chủ
                                </a>
                            </li>
                            <li class="nav-item">

                                @if (Session["username"] != null)
                                {
                                <li><span class="navbar-text">Hello @Session["username"]!</span></li>
                                <li>@Html.ActionLink("Logout", "Logout", "QuanTris_64131236")</li>
                            }
                            else
                            {
                                <li>@Html.ActionLink("Login", "Login", "QuanTris_64131236")</li>
                                <li>@Html.ActionLink("Register", "Register", "QuanTris_64131236")</li>
                            }

                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">
                                        <!-- Trong _Layout.cshtml -->
                                <li class="nav-item">
                                    @if (Session["MaKH"] != null)
                                    {
                                        <a class="nav-link" href="@Url.Action("Index", "GioHangs")">
                                            <i class="fa-solid fa-cart-shopping"></i>
                                            (<span id="cartCount">0</span>)
                                        </a>
                                    }
                                </li>
                                </a>
                                </li>
                            </ul>
                            <a>
                                <i class="fa-solid fa-location-dot"></i>Địa chỉ : <span class="text-decoration-underline" style="font-weight: 600;">15 Lam Sơn TP.Nha Trang </span>
                            </a>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <main class="bg-gray">
            <section class="section-one d-flex justify-content-center">
                <a href="#">
                    <span class="text-primary">
                        <i class="fa-solid fa-box"></i>
                        Trà sữa Chang Tea
                    </span>
                    Uống không ngon hoàn tiền x2 <i class="fa-solid fa-chevron-right opacity-50"></i>
                </a>
            </section>

            <section class="section-main container-fluid mt-3 ">
                <div class="row">


                    <div class="inner-info col-12 ">
                        <div class="bg-white rounded-3 me-4 ">
                            <div class="inner-corousel p-3 rounded-3">
                                <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
                                    <div class="carousel-indicators">
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="5" aria-label="Slide 6"></button>
                                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="6" aria-label="Slide 7"></button>
                                    </div>
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img src="~/img/carousel1.jpg" class="d-block w-100" alt="Slide 1">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel2.jpg" class="d-block w-100" alt="Slide 2">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel3.jpg" class="d-block w-100" alt="Slide 3">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel4.jpg" class="d-block w-100" alt="Slide 4">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel5.png" class="d-block w-100" alt="Slide 5">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel6.jpg" class="d-block w-100" alt="Slide 6">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="~/img/carousel7.png" class="d-block w-100" alt="Slide 7">
                                        </div>
                                    </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>



                            </div>
                        </div>

                        <div class="inner-product mt-4">
                            <p class="text-primary">Sản phẩm khác</p>

                        </div>
                        <div class="bg-white rounded-4 me-4 mt-3">
                            <section class="menu2 bg-white pt-3 rounded-3">
                                <div class="inner-item">
                                    @{
                                        if (Session["username"] != null)
                                        {


                                            if ((bool?)Session["Admin"] == true)
                                            {
                                                // Menu cho Admin/Nhân viên
                                                <a href="@Url.Action("Index", "NhanViens_64131236")" class="item">
                                                    <img src="~/img/user.png" alt="User">
                                                    <p>Quản lý Nhân viên</p>
                                                </a>
                                                <a href="@Url.Action("Index", "Discounts")" class="item">
                                                    <img src="~/img/voucher.png" alt="Mã giảm giá">
                                                    <p>Quản lý mã giảm giá</p>
                                                </a>
                                                <a href="@Url.Action("Index", "KhachHangs")" class="item">
                                                    <img src="~/img/khachhang.png" alt="Khách hàng">
                                                    <p>Quản lý khách hàng</p>
                                                </a>
                                                <a href="@Url.Action("QuanLyDonHang", "DonHangs")" class="item">
                                                    <img src="~/img/kh.png" alt="Đơn hàng">
                                                    <p>Quản lý đơn hàng</p>
                                                </a>
                                                <a href="@Url.Action("ThongKe", "BaoCao")" class="item">
                                                    <img src="~/img/doanhthu.png" alt="Thống kê">
                                                    <p>Báo cáo thống kê</p>
                                                </a>
                                                <a href="@Url.Action("Index", "HoaDons")" class="item">
                                                    <img src="~/img/hoadon.png" alt="Hóa đơn">
                                                    <p>Hóa đơn</p>
                                                </a>

                                            }
                                            else
                                            {
                                                // Menu cho Khách hàng

                                                <a href="@Url.Action("Index", "LoaiHang")" class="item">
                                                    <img src="~/img/danhmuc.png" alt="Danh mục">
                                                    <p>Danh mục</p>
                                                </a>
                                                <a href="@Url.Action("Index", "GioHangs")" class="item cart-icon">
                                                    <div class="cart-container">
                                                        <img src="~/img/cart.png" alt="Giỏ hàng">
                                                        <span class="cart-badge" id="cartCount">@ViewBag.CartCount</span>
                                                    </div>
                                                    <p>Giỏ hàng</p>
                                                </a>

                                                <a href="@Url.Action("LichSuMuaHang", "HoaDons")" class="item">
                                                    <img src="~/img/hoadon.png" alt="Lịch sử mua hàng">
                                                    <p>Lịch sử mua hàng</p>
                                                </a>
                                                <a href="@Url.Action("ThongTinCaNhan", "KhachHang")" class="item">
                                                    <img src="~/img/user.png" alt="Thông tin cá nhân">
                                                    <p>Thông tin cá nhân</p>
                                                </a>
                                                <a href="@Url.Action("DonHangCuaToi", "DonHang")" class="item">
                                                    <img src="~/img/donhang.png" alt="Theo dõi đơn hàng">
                                                    <p>Theo dõi đơn hàng</p>
                                                </a>
                                            }
                                        }
                                    }
                                </div>
                            </section>
                        </div>

                        <section class=" bg-white rounded-4 me-4 mt-3 ">
                            @RenderBody()

                        </section>
                    </div>
                </div>
            </section>




        </main>

        <script src="~/Scripts/jquery.js"></script>
        <script src="~/Scripts/bootstrap.bundle.min.js"></script>
        @RenderSection("Scripts", required: false)

        <!-- Existing layout content -->

        @section Styles {
            <link href="~/Content/toastr.min.css" rel="stylesheet" />
        }

        @section Scripts {
            <script src="~/Scripts/jquery.min.js"></script>
            <script src="~/Scripts/toastr.min.js"></script>
            <script>
                // Cấu hình toastr
                toastr.options = {
                    "closeButton": true,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "timeOut": "3000"
                };
            </script>
        }



        @if (TempData["SuccessMessage"] != null)
        {
            <script>
        toastr.success('@TempData["SuccessMessage"]');
            </script>
        }

        <!-- Trong _Layout.cshtml -->


        <script>
            // Place this in your layout page or a common JavaScript file
            // Add this JavaScript
            function updateCartCount() {
                $.ajax({
                    url: '/GioHangs/GetCartCount',
                    type: 'GET',
                    success: function (count) {
                        $('#cartCount').text(count);
                        if (count > 0) {
                            $('#cartCount').show();
                        } else {
                            $('#cartCount').hide();
                        }
                    }
                });
            }

            // Call this after adding items to cart
            $(document).ready(function () {
                updateCartCount();
            });
          
        </script>

        <link href="~/Content/toastr.min.css" rel="stylesheet" />
        <script src="~/Scripts/toastr.min.js"></script>
        <script>
            toastr.options = {
                "closeButton": true,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "timeOut": "3000"
            };
         


        </script>


    </body>
</html>
